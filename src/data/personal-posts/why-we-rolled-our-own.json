{
  "slug": "why-we-rolled-our-own",
  "title": "Why We Rolled Our Own",
  "subtitle": "On evaluating SaaS options, building with Supabase + Stripe + Resend, and the 4-hour experiment that changed everything",
  "date": "2026-02-27",
  "category": "Essay",
  "categoryColor": "red",
  "icon": "zap",
  "readingTime": "8 min read",
  "content": "At 8:46 AM on February 27th, 2026, I shipped a full Stripe payment system for this blog. Monthly subscription tiers. Webhook handlers. A customer portal for managing billing. The works.\n\nBy 12:43 PM the same day — three hours and fifty-seven minutes later — I ripped it all out.\n\nThis is the story of that decision, and why I think every indie publisher should own their subscriber list.\n\n## The SaaS Evaluation\n\nWhen I started insights.codes, I did what everyone does: I looked at the existing tools.\n\n**Buttondown** was my first choice. Clean interface, good markdown support, reasonable pricing. But I'd be renting my subscriber list. If Buttondown changes their pricing, adds features I don't want, or shuts down — I'm migrating.\n\n**Ghost** is beautiful but it's a whole CMS. I already have a Next.js site that I love. Adopting Ghost means either migrating everything or running two systems. Neither is appealing.\n\n**Substack** is the elephant in the room. Great for discovery, terrible for ownership. You're building on someone else's platform, subject to their algorithm, their design choices, their business model. When Substack makes a controversial decision, you eat the reputational hit.\n\n**ConvertKit** (now Kit) is the most flexible option. But at $29/month for basic features, the economics don't make sense for a blog that might have 500 subscribers in its first year.\n\nThe common thread: every SaaS option means someone else holds my subscriber data. Someone else controls my relationship with my readers.\n\n## The Build-It-Yourself Stack\n\nThe alternative was surprisingly simple.\n\n**Supabase** for the database. Free tier gives me 500MB of storage and 50,000 monthly active users. For a subscriber table, that's essentially infinite. Row-level security means the data is locked down from day one.\n\n**Resend** for transactional email. Free tier gives me 3,000 emails per month. For a blog publishing weekly to a few hundred subscribers, that's plenty. Their API is clean and their deliverability is excellent.\n\n**Stripe** for payments. 2.9% + 30 cents per transaction. No monthly fee. No platform lock-in.\n\nTotal monthly cost: **$0**.\n\nNot \"free tier that'll cost money later.\" Zero dollars. Supabase and Resend both have free tiers that scale well beyond what a small blog needs. Stripe only charges when someone pays.\n\nCompare that to $9-$29/month for any SaaS option, plus the hidden cost of platform dependency.\n\n## The 4-Hour Experiment\n\nThe morning build went fast. Claude Code and I had the whole system running by 8:46 AM:\n\n- Three subscription tiers ($5, $10, $25/month)\n- Stripe Checkout with a customer portal\n- Webhooks for subscription lifecycle events\n- Database columns for `stripe_customer_id`, `stripe_subscription_id`, and `support_amount_cents`\n\nIt worked. Technically, it was solid. But as I tested the flow — click subscribe, enter card details, manage billing in the portal, handle cancellations — I realized something.\n\n**I was building complexity I didn't need.**\n\nMonthly subscriptions mean:\n- Webhook handlers for `invoice.paid`, `invoice.payment_failed`, `customer.subscription.deleted`\n- A customer portal so people can update their cards and cancel\n- Failed payment retry logic\n- Dunning emails for expired cards\n- Proration calculations for plan changes\n- State management for active/past_due/canceled/trialing\n\nAll of that operational overhead for a blog where the primary product — the writing — is free. The paid tier was a nice-to-have, not the core offering.\n\nSo at 12:43 PM, I committed `fix: patch subscribe P1s and remove Stripe payment system` and stripped it all out.\n\n## What We Learned\n\nThe 4-hour experiment taught me three things:\n\n**1. Start with what you need, not what you might need.** The blog needs free email subscriptions. It does not need a billing system. Building the billing system first was solving a problem I didn't have.\n\n**2. Recurring billing is a product, not a feature.** Handling subscription lifecycle — upgrades, downgrades, cancellations, failed payments, card updates — is its own product. Bolting it onto a blog adds maintenance burden that compounds over time.\n\n**3. One-time is enough.** If readers want to support the blog, a one-time donation through Stripe Checkout is all we need. No webhooks for subscription events. No portal management. No dunning emails. One endpoint, one event type, done.\n\nThat's what we built instead. The [donate section on our subscribe page](/subscribe) uses a single Stripe Checkout session in `mode: \"payment\"` with `submit_type: \"donate\"`. The button says \"Donate\" instead of \"Pay.\" The entire server-side code is about 40 lines.\n\n## The Architecture\n\nHere's what the final stack looks like:\n\n```\nSubscription Flow:\n  User submits email → /api/subscribe (rate limited)\n  → Supabase upsert (RLS, service role only)\n  → Resend confirmation email\n  → User confirms → localStorage flag set\n\nDonation Flow:\n  User picks amount → /api/checkout\n  → Stripe Checkout (mode: payment, submit_type: donate)\n  → Stripe webhook → Supabase upsert (support_amount_cents)\n  → /thanks page\n```\n\nThe subscription flow has zero external dependencies beyond Supabase and Resend. The donation flow adds Stripe, but only for one-time payments — the simplest possible Stripe integration.\n\nDatabase schema is a single table:\n\n```\nsubscribers:\n  id, email, status (pending/confirmed),\n  stripe_customer_id, support_amount_cents,\n  confirmed_at, created_at\n```\n\nThe `stripe_customer_id` and `support_amount_cents` columns sit there quietly until someone donates. No wasted complexity.\n\n## Why Ownership Matters\n\nWhen you use a SaaS newsletter platform, you're one API change away from a migration. When you use Substack, you're one controversy away from a brand problem. When you use a managed service, you're one pricing change away from a cost surprise.\n\nWhen you own your subscriber list in your own database:\n\n- **You control the data.** Export it, query it, join it with other tables, run analytics.\n- **You control the experience.** Custom emails, custom confirmation flows, custom landing pages.\n- **You control the cost.** Free tiers on Supabase and Resend mean $0/month for years.\n- **You control the future.** Want to add paid content later? The infrastructure is already there.\n\nThe Supabase free tier alone handles more subscribers than most indie blogs will ever have. And if you outgrow it, you own the schema — migrating to any Postgres host is a `pg_dump` away.\n\n## The Reading Meter\n\nOne more thing we built: a 5-article reading meter.\n\nAfter reading 5 unique articles, the content blurs and a subscribe overlay appears. Enter your email and the counter resets immediately. Confirmed subscribers never see it again.\n\nIt's all localStorage — no server-side tracking, no cookies, no fingerprinting. If someone clears their storage to read more, good. They're engaged enough that we want them reading.\n\nThe meter isn't DRM. It's a gentle nudge at the moment someone has gotten enough value to justify sharing their email. Medium used this exact model for years.\n\n## Should You Build Your Own?\n\nIf you're running a small blog or newsletter and you're comfortable with basic web development, yes. The tools have gotten too good to pay $29/month for something you can build in a day.\n\nThe total effort to build the subscription system for insights.codes — including the 4-hour Stripe detour — was less than two days. And now I own every piece of it.\n\n---\n\n*If you found this useful, [subscribe for free](/subscribe) to get posts like this in your inbox. And if you want to support the blog, there's a [donate option](/subscribe) at the bottom of the subscribe page.*",
  "highlights": [
    "SaaS vs DIY",
    "Supabase",
    "Stripe",
    "Resend",
    "Indie Hacking"
  ],
  "keyTakeaway": "Owning your subscriber list is worth the engineering investment. The tools exist to build it yourself in a day for $0/month.",
  "stats": [
    { "label": "SaaS options evaluated", "value": "4", "color": "blue" },
    { "label": "time to build", "value": "1 day", "color": "green" },
    { "label": "monthly cost", "value": "$0", "color": "accent" },
    { "label": "Stripe experiment", "value": "4 hrs", "color": "red" }
  ]
}
