{
  "slug": "power-user-tips",
  "title": "Claude Code Power User Guide",
  "subtitle": "Battle-tested prompts, CLAUDE.md rules, and workflow tricks from 180 sessions",
  "date": "2026-02-24",
  "category": "Tips",
  "categoryColor": "green",
  "icon": "zap",
  "readingTime": "7 min read",
  "content": "This is the post I wish I'd read before my first session. No theory, no hype — just the specific things that make Claude Code dramatically more effective.\n\n## The Prompts That Work\n\n### Break long sessions into focused tasks\n\nMany of my 'mostly_achieved' sessions (50 total) follow a pattern: 3-4 tasks are completed successfully, then the final task gets interrupted mid-planning. For example, one session did a demo lobby, bug fixes, cost analysis, AND ownership transfer planning. By starting a fresh session for each major feature, I'll get better focus and cleaner git history. My 'fully_achieved' sessions (82) tend to be more focused.\n\n:::prompt\nLet's focus on one thing this session: implement [FEATURE]. After we have a working PR, I'll start a new session for the next task.\n:::\n\n### Add 'no planning mode' guardrails for implementation tasks\n\nAt least 5 sessions were rated 'not_achieved' or 'slightly_helpful' because Claude spent 8+ minutes reading files and writing plans without producing code. This is my most consistent frustration pattern. When I already know what I want, be direct about skipping the exploration phase. My best sessions are the ones where Claude starts coding immediately — like the Calendly connector (12 files, 1,352 lines in one session).\n\n:::prompt\nSkip planning. I already know what I want. Start implementing immediately: [describe feature]. If you hit a blocker, ask me — don't spend time exploring the codebase.\n:::\n\n### Front-load deployment verification\n\nMultiple sessions had post-push friction: Vercel env vars with trailing newlines causing 500 errors, migrations failing silently, build failures from server/client component mismatches. I deploy frequently (21 deployment sessions), so adding a pre-deployment checklist prompt would save significant debugging time. The Stripe Connect session and MCP endpoint 500 error are prime examples of issues caught too late.\n\n:::prompt\nBefore we push this PR, run through a deployment checklist: 1) Verify the build passes locally, 2) Check if any new env vars are needed, 3) Verify any Supabase migrations will apply cleanly, 4) Confirm no server/client component boundary violations.\n:::\n\n\n## Features You're Probably Not Using\n\n### Custom Skills\n\n*Reusable prompts for repetitive workflows triggered by a single /command.*\n\nI have highly repetitive workflows: creating PRs (11 sessions), running code reviews, and deploying. A /pr skill could combine type-checking, building, committing, and PR creation into one command — eliminating the multi-step friction seen in many sessions.\n\n```\nmkdir -p .claude/skills/pr && cat > .claude/skills/pr/SKILL.md << 'EOF'\n## Create PR Skill\n1. Run `npx tsc --noEmit` and fix any type errors\n2. Run `npm run build` and fix any build errors\n3. Check current branch is not main (abort if so)\n4. Verify all changes are committed\n5. Push to origin with `gh auth setup-git && git push`\n6. Create PR with `gh pr create --fill`\n7. Report the PR URL\nEOF\n```\n\n### Hooks\n\n*Shell commands that auto-run at specific lifecycle events like before committing.*\n\nWith 53 buggy-code friction events and 47 wrong-approach events, auto-running type checks and builds before commits would catch the most common class of errors (TypeScript failures, build breaks) before they're pushed.\n\n```\nAdd to .claude/settings.json:\n{\n  \"hooks\": {\n    \"preCommit\": {\n      \"command\": \"npx tsc --noEmit && npm run build\",\n      \"description\": \"Type-check and build before every commit\"\n    }\n  }\n}\n```\n\n### Task Agents\n\n*Claude spawns focused sub-agents for parallel exploration or complex work.*\n\nMy architecture audit session already used 8 parallel sub-agents successfully. With 42 bug-fix sessions and complex multi-file changes (98 success events), I could use task agents more deliberately — e.g., 'use an agent to investigate the root cause while I describe the symptoms' or for parallel exploration of large codebases before implementation.\n\n```\nTry prompting: \"Use a task agent to explore all the MCP tool handlers and list any that don't properly await async database operations, while you start fixing the ones I already know about in the simulator service.\"\n```\n\n\n## CLAUDE.md: The Most Underrated Feature\n\nYour `CLAUDE.md` file is loaded at the start of every session. It's the single highest-leverage thing you can configure. Here are the rules I'd add based on 180 sessions of friction data:\n\n:::callout{type=\"tip\"}\n**Add this rule:** When asked to implement a feature, START CODING IMMEDIATELY. Do not spend more than 2 minutes reading files and planning before producing actual code. If you need to explore, do it incrementally while building.\n\n**Why it matters:** Multiple sessions (5+) were derailed by Claude spending entire sessions in planning/exploration loops without producing any code, leading to user interruption and 'not_achieved' outcomes.\n:::\n\n:::callout{type=\"tip\"}\n**Add this rule:** This is a Next.js + TypeScript + Supabase project deployed on Vercel. Always ensure files with JSX use .tsx extension. Always run `npx tsc --noEmit` before committing to catch type errors. Do not use `cookies().delete()` in Server Components — use Server Actions or Route Handlers for cookie mutations.\n\n**Why it matters:** Recurring friction across sessions: .ts vs .tsx rename issues, type errors surfacing after implementation, and a production error from cookie deletion in a Server Component — all preventable with upfront guardrails.\n:::\n\n:::callout{type=\"tip\"}\n**Add this rule:** When deploying to Vercel or setting env vars via CLI, always confirm the correct Vercel project is linked first with `vercel link`. Trim all environment variable values with `.trim()` to prevent trailing newline issues.\n\n**Why it matters:** Multiple sessions hit friction from Vercel CLI linking to the wrong project and from trailing newlines in env vars causing 500 errors in production.\n:::\n\n:::callout{type=\"tip\"}\n**Add this rule:** When working with Supabase migrations, always verify migrations actually executed (not ghost-applied) by checking the actual database state after running them. If Supabase CLI isn't authenticated for cloud push, tell the user immediately rather than proceeding with local-only changes.\n\n**Why it matters:** A critical bug fix appeared complete but the migration was ghost-applied (recorded but never executed), requiring a repair migration. Supabase auth issues blocked deploys in multiple sessions.\n:::\n\n:::callout{type=\"tip\"}\n**Add this rule:** For git push operations: try SSH first, then HTTPS with `gh auth setup-git` as fallback. Always push to the correct branch (main vs feature branch). Never push to a feature branch that has already been merged.\n\n**Why it matters:** Multiple sessions had git push friction — SSH/HTTPS failures, and one session accidentally pushed to an already-merged feature branch instead of main.\n:::\n\n:::callout{type=\"tip\"}\n**Add this rule:** When using sub-agents/Task tool for parallel work, limit to 4-5 concurrent agents max. Summarize sub-agent results concisely rather than feeding full outputs back into the main context.\n\n**Why it matters:** A session dispatching 11+ parallel sub-agents overwhelmed the context window, causing every response to be truncated with 'Prompt is too long' errors.\n:::\n\n:::callout{type=\"tip\"}\n**Add this rule:** Never screenshot localhost URLs — always use the production/deployed URL. Never include hardcoded API keys or secrets in committed code. Always check for sensitive data before committing.\n\n**Why it matters:** Sessions hit friction from attempting to screenshot localhost (redirected to login) and from a hardcoded API key nearly being committed in a 62-file commit.\n:::\n\n## The One-Minute Setup That Prevents Most Problems\n\nIf you only do one thing from this post, do this: add a pre-commit hook that runs your type checker. Most of the bugs Claude ships are type errors that would be caught instantly.\n\n```json\n// .claude/settings.json\n{\n  \"hooks\": {\n    \"preCommit\": {\n      \"command\": \"npx tsc --noEmit && npm run build\"\n    }\n  }\n}\n```\n\nThis single change would have prevented the majority of my 53 buggy code incidents.",
  "highlights": [
    "Custom Skills",
    "Hooks",
    "Task Agents",
    "CLAUDE.md rules",
    "Copyable prompts"
  ],
  "keyTakeaway": "Add a CLAUDE.md rule: 'start coding immediately, don't over-plan' and a pre-commit hook that runs tsc. These two changes prevent most friction."
}